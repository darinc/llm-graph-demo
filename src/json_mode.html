<!doctype html>
<html>
  <head>
    <script>
      webLLMGlobal = {};
    </script>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
      .container {
        display: flex;
        gap: 20px;
        margin-top: 20px;
      }

      #mynetwork {
        flex: 0 0 800px;  /* Keep the width fixed at 800px */
        height: 600px;
        border: 1px solid lightgray;
      }

      #input-container {
        margin: 20px 0;
      }
      .loading {
        opacity: 0.5;
        cursor: wait;
      }
      .spinner {
        display: none;
        margin-left: 10px;
        width: 20px;
        height: 20px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid #3498db;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      #json-display {
        flex: 1;          /* Take remaining space */
        margin-top: 0;    /* Remove top margin since we're using flex gap */
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: #f9f9f9;
        height: fit-content;
      }
      #json-content {
        white-space: pre-wrap;
        word-wrap: break-word;
        margin: 0;
      }
    </style>
  </head>

  <body>
    <h2>Food Chain Visualizer</h2>
    <div id="input-container">
      <input type="text" id="animal-input" placeholder="Enter an animal...">
      <button id="submit-btn">Add to Food Chain</button>
      <div id="loading-spinner" class="spinner"></div>
    </div>
    <div class="container">
      <div id="mynetwork"></div>
      <div id="json-display" style="display: none;">
          <h3>Animal Details</h3>
          <pre id="json-content"></pre>
      </div>
    </div>
    <label id="init-label"> </label>

    <script type="module" src="./json_mode.ts"></script>
  </body>
</html>
